{{ define "main" }}
<section class="bg-primary p-4">

    
    {{/* Header */}}
    <div class="text-center mt-8 mb-4 md:mb-16">
      <div class="inline-block bg-accent-primary text-white text-sm font-medium px-3 py-1 rounded-full mb-4 animate-on-scroll-fade-up">
        Parlons de votre projet
      </div>
      <h2 class="font-bold text-text-primary mb-4 animate-on-scroll-fade-up animate-stagger-1">
        {{ .Title }}
      </h2>
      <p class="text-text-secondary text-lg md:text-xl max-w-2xl mx-auto animate-on-scroll-fade-up animate-stagger-2">
        Prêt à transformer votre prise de parole ? Je suis là pour vous accompagner.
      </p>
    </div>

    {{/* Main Grid - Asymétrique */}}
    <div class="md:grid md:grid-cols-5 gap-8 md:gap-12 items-start md:p-10">
      
      

      {{/* Colonne droite - Formulaire (3 cols sur desktop) */}}
      <div class="md:col-span-3 order-1 md:order-2">
        <div class="bg-secondary rounded-2xl p-6 md:p-10 shadow-themed-lg animate-on-scroll-fade-up">
          
          {{/* Header formulaire */}}
          <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8 pb-6 border-b border-border-primary">
            <div>
              <h3 class="text-2xl font-bold text-text-primary">Envoyez-moi un message</h3>
              <p class="text-text-secondary mt-1">Je vous répondrai rapidement</p>
            </div>
            <div class="flex items-center gap-2 text-success">
              <span class="material-symbols-outlined icon-sm">verified</span>
              <span class="text-sm font-medium">Formulaire sécurisé</span>
            </div>
          </div>
          
          <form name="contact" method="POST" action="/merci/" data-netlify="true" netlify-honeypot="bot-field" data-netlify-recaptcha="true" class="space-y-6">
            {{/* Honeypot anti-spam */}}
            <input type="hidden" name="form-name" value="contact">
            <p class="hidden">
              <label>Ne pas remplir : <input name="bot-field"></label>
            </p>
            

            {{/* Nom & Email - 2 colonnes sur tablette+ */}}
            <div class="grid sm:grid-cols-2 gap-5">
              {{/* Nom */}}
              <div class="space-y-2">
                <div class="flex gap-1">
                  <span class="material-symbols-outlined icon-sm text-accent-primary">person</span>
                  <label for="name" class="flex items-center gap-2 text-text-primary font-medium">
                    Nom complet
                  </label>
                </div>
                <input 
                  type="text" 
                  id="name" 
                  name="name" 
                  required
                  placeholder="Marie Dupont"
                  class="w-full px-4 py-3 rounded-xl bg-primary border-2 border-border-primary text-text-primary placeholder-tertiary focus:border-accent-primary focus:outline-none transition-colors"
                >
              </div>

              {{/* Email */}}
              <div class="space-y-2">
                <div class="flex gap-1">
                  <span class="material-symbols-outlined icon-sm text-accent-primary">mail</span>
                  <label for="email" class="flex items-center gap-2 text-text-primary font-medium">
                    Email
                  </label>
                </div>
                <input 
                  type="email" 
                  id="email" 
                  name="email" 
                  required
                  placeholder="marie@exemple.com"
                  class="w-full px-4 py-3 rounded-xl bg-primary border-2 border-border-primary text-text-primary placeholder-tertiary focus:border-accent-primary focus:outline-none transition-colors"
                >
              </div>
            </div>

            {{/* Téléphone & Sujet - 2 colonnes sur tablette+ */}}
            <div class="grid sm:grid-cols-2 gap-5">
              {{/* Téléphone */}}
              <div class="space-y-2">
                <div class="flex gap-1 items-center">
                  <span class="material-symbols-outlined icon-sm text-accent-primary">phone</span>
                  <label for="phone" class="flex items-center gap-2 text-text-primary font-medium">
                    Téléphone
                  </label>
                  <span class="text-text-tertiary text-sm font-normal">(optionnel)</span>
                </div>
                <input 
                  type="tel" 
                  id="phone" 
                  name="phone"
                  placeholder="+33 6 00 00 00 00"
                  class="w-full px-4 py-3 rounded-xl bg-primary border-2 border-border-primary text-text-primary placeholder-tertiary focus:border-accent-primary focus:outline-none transition-colors"
                >
              </div>

              {{/* Sujet */}}
              <div class="space-y-2">
                <div class="flex gap-1">
                  <span class="material-symbols-outlined icon-sm text-accent-primary">category</span>
                  <label for="subject" class="flex items-center gap-2 text-text-primary font-medium">
                    Sujet
                  </label>
                </div>
                <select 
                  id="subject" 
                  name="subject" 
                  required
                  class="w-full px-4 py-3 rounded-xl bg-primary border-2 border-border-primary text-text-primary focus:border-accent-primary focus:outline-none transition-colors appearance-none cursor-pointer"
                  style="background-image: url('data:image/svg+xml;charset=UTF-8,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 24 24%22 fill=%22%23475569%22%3E%3Cpath d=%22M7 10l5 5 5-5H7z%22/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: right 1rem center; background-size: 1.5rem;"
                >
                  <option value="">Choisissez...</option>
                  <option value="media-training">Média Training</option>
                  <option value="prise-parole">Prise de parole en public</option>
                  <option value="animation">Animation d'événement</option>
                  <option value="autre">Autre demande</option>
                </select>
              </div>
            </div>

            {{/* Message */}}
            <div class="space-y-2">
              <div class="flex gap-1">
                <span class="material-symbols-outlined icon-sm text-accent-primary">edit_note</span>
                <label for="message" class="flex items-center gap-2 text-text-primary font-medium">
                  Votre message
                </label>
              </div>
              <textarea 
                id="message" 
                name="message" 
                rows="5" 
                required
                placeholder="Décrivez votre projet, vos objectifs, ou posez-moi vos questions..."
                class="w-full px-4 py-3 rounded-xl bg-primary border-2 border-border-primary text-text-primary placeholder-tertiary focus:border-accent-primary focus:outline-none transition-colors resize-none"
              ></textarea>
            </div>

            {{ partial "form-rgpd-checkbox.html" . }}

            <div data-netlify-recaptcha="true"></div>

            {{/* Bouton submit */}}
            <div class="flex flex-col sm:flex-row items-center gap-4 pt-4">
              <button type="submit" class="btn btn-primary btn-lg w-full sm:w-auto">
                <span class="material-symbols-outlined">send</span>
                <p>Envoyer</p>
              </button>
              <p class="text-text-tertiary text-sm text-center sm:text-left">
                En soumettant ce formulaire, vous acceptez d'être recontacté.
              </p>
            </div>
          </form>
        </div>

        {{/* Badge réponse - mobile uniquement */}}
        <div class="flex md:hidden items-center gap-4 my-6 p-4 bg-accent rounded-xl animate-on-scroll-fade-up animate-stagger-3">
          <div class="bg-accent-primary p-2 rounded-full flex items-center">
            <span class="material-symbols-outlined text-white">schedule</span>
          </div>
          <div>
            <p class="text-text-primary font-semibold">Réponse sous 24h</p>
            <p class="text-text-secondary text-sm">Du lundi au vendredi</p>
          </div>
        </div>
      </div>

      {{/* Colonne gauche - Infos créatives (2 cols sur desktop) */}}
      <div class="md:col-span-2 order-2 md:order-1 space-y-6">
              
        {{/* Carte profil créative */}}
        <div class="bg-secondary rounded-2xl shadow-themed-lg animate-on-scroll-fade-right">
          {{/* Header avec gradient */}}
          <div class=" from-accent-primary to-accent-secondary p-6 relative">
            <div class="absolute inset-0 opacity-20">

            </div>
            <div class="relative flex items-center gap-4">
              <div class="w-16 h-16 md:w-20 md:h-20 rounded-full border-4 border-white shadow-lg overflow-hidden ">
                <img src="/img/profil.webp" alt="Marie-Gaëtane Comte" class="w-full h-full object-cover">
              </div>
              <div class=" text-text-primary">
                <h4 class="font-bold">{{ .Site.Params.Author }}</h4>
                <p class="text-sm italic">{{ .Site.Params.Author_subtitle}}</p>
              </div>
            </div>
          </div>
          
          {{/* Contenu */}}
          <div class="p-6 space-y-4">
            {{/* Email - reveal on click */}}
            <a
              href="#"
              id="magic-at"
              class="block group"
              data-email-user="{{ .Site.Params.contact.email_user }}"
              data-email-domain="{{ .Site.Params.contact.email_domain }}"
            >
              <div class="flex items-start gap-3 p-4 bg-primary rounded-xl hover:shadow-themed transition-all relative">

                <div class="bg-accent-primary text-white p-2 flex items-center rounded-lg shrink-0">
                  <span class="material-symbols-outlined">mail</span>
                </div>

                <div class="flex-1 min-w-0">
                  <p class="text-text-tertiary text-xs uppercase tracking-wider mb-1">
                    Email
                  </p>
                  <p
                    id="magic-text-at"
                    class="text-text-primary font-medium truncate group-hover:text-accent-primary transition-colors">
                    Afficher l’email
                  </p>
                </div>

                <span class="material-symbols-outlined text-text-tertiary group-hover:text-accent-primary group-hover:translate-x-1 transition-all">
                  call_received
                </span>
              </div>
            </a>

            
            

            {{/* Téléphone - reveal on click */}}
            <a
              href="#"
              class="block group magic-allo"
              data-phone="{{ delimit .Site.Params.contact.phone_parts " " }}"
              data-phone-tel="+33{{ delimit .Site.Params.contact.phone_parts "" | strings.TrimPrefix "0" }}"
            >
              <div class="flex items-start gap-3 p-4 bg-primary rounded-xl hover:shadow-themed transition-all">

                <div class="bg-success text-white p-2 flex items-center rounded-lg shrink-0">
                  <span class="material-symbols-outlined">call</span>
                </div>

                <div class="flex-1 min-w-0">
                  <p class="text-text-tertiary text-xs uppercase tracking-wider mb-1">
                    Téléphone
                  </p>
                  <p
                    class="phone-text text-text-primary font-medium group-hover:text-accent-primary transition-colors">
                    Afficher le numéro
                  </p>
                </div>

                <span class="material-symbols-outlined text-text-tertiary group-hover:text-success group-hover:translate-x-1 transition-all">
                  call_received
                </span>

              </div>
            </a>


            {{/* Localisation */}}
            <div class="flex items-start gap-3 p-4 bg-primary rounded-xl">
              <div class="bg-warning text-white p-2 flex items-center  rounded-lg shrink-0">
                <span class="material-symbols-outlined">location_on</span>
              </div>
              <div>
                <p class="text-text-tertiary text-xs uppercase tracking-wider mb-1">Localisation</p>
                <p class="text-text-primary font-medium">Amiens et ses alentours / Visioconférence</p>
                <p class="text-text-secondary text-sm">Disponible partout en France</p>
              </div>
            </div>
          </div>
        </div>

        
        {{/* Badge réponse - style moderne */}}
        <div class="flex flex-col justify-around items-center">
          <div class="hidden md:block animate-on-scroll-fade-right animate-stagger-3">
            <div class="relative bg-gradient-to-r from-accent-primary to-accent-secondary rounded-2xl p-1">
              <div class="bg-primary rounded-xl p-5">
                <div class="flex items-center gap-4">
                  <div class="relative">
                    <div class="w-14 h-14 bg-accent rounded-full flex items-center justify-center">
                      <span class="material-symbols-outlined text-accent-primary icon-lg">schedule</span>
                    </div>
                    <div class="absolute -top-1 -right-1 w-5 h-5 bg-success rounded-full flex items-center justify-center">
                      <span class="material-symbols-outlined text-white text-xs">check</span>
                    </div>
                  </div>
                  <div>
                    <p class="text-text-primary font-bold ">Réponse sous 24h</p>
                    <p class="text-text-secondary text-sm">Du lundi au vendredi</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
            <div class="p-2">
              {{ partial "social.html" . }}
            </div>
        </div>
      </div>
    </div>
  </div>
</section>

{{/* Section FAQ rapide */}}
{{ partial "faq.html" (dict "context" . "bg" "bg-secondary") }}
{{ end }}