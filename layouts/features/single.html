{{ define "main" }}

{{/* Variables */}}
{{ $icon := .Params.icon | default "star" }}
{{ $image := .Params.image }}
{{ $benefits := .Params.benefits }}
{{ $process := .Params.process }}
{{ $testimonial := .Params.testimonial }}

{{/* Hero Section */}}
<section class="relative bg-secondary overflow-hidden">
  <div class="container mx-auto px-4 py-12 md:py-24 relative z-10">
    <div class="grid lg:grid-cols-2 gap-8 lg:gap-12 items-center">
      
      {{/* Contenu texte - Gauche */}}
      <div class="order-2 lg:order-1 text-center lg:text-left">
        <h2 class="font-bold text-text-primary mb-4 md:mb-6 animate-on-scroll-fade-up animate-stagger-2">
          {{ .Title }}
        </h2>

        {{ with .Params.subtitle }}
        <h3 class="text-text-secondary text-lg md:text-xl mb-6 md:mb-8 animate-on-scroll-fade-up animate-stagger-3">
          {{ . }}
        </h3>
        {{ end }}

        {{/* CTA Buttons */}}
        <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start animate-on-scroll-fade-up animate-stagger-4">
          <a href="/contact" class="btn btn-primary">
            Me Contacter
          </a>
        </div>
      </div>

      {{/* Image - Droite */}}
      <div class="order-1 lg:order-2 animate-on-scroll-fade-left">
        {{ $image := .Params.image }}
        {{ $icon := .Params.icon | default "star" }}
        
        {{ if $image }}
        <div class="relative max-w-xs sm:max-w-sm md:max-w-md mx-auto ">
          <div class="absolute inset-0 bg-gradient-to-br from-accent-primary to-accent-secondary rounded-2xl transform rotate-3 scale-105 opacity-20"></div>
          <img src="{{ $image }}" alt="{{ .Title }}" class="relative rounded-2xl shadow-2xl w-full h-auto object-cover">
        </div>

        {{ end }}
      </div>

    </div>
  </div>
</section>

{{/* Section Contenu Principal */}}
<section class="bg-primary py-10 md:py-24">
  <div class="container mx-auto px-4">
    <div class="max-w-4xl mx-auto">
      
      {{/* Contenu Markdown */}}
      <div class="prose prose-lg max-w-none text-text-primary animate-on-scroll-fade-up">
        {{ .Content }}
      </div>

    </div>
  </div>
</section>

{{/* Section Bénéfices */}}
{{/*  {{ with $benefits }}
<section class="bg-secondary py-16 md:py-24">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-3xl md:text-4xl font-bold text-text-primary mb-4 animate-on-scroll-fade-up">
        Ce que vous allez gagner
      </h2>
      <p class="text-text-secondary text-lg max-w-2xl mx-auto animate-on-scroll-fade-up animate-stagger-1">
        Des résultats concrets pour transformer votre communication
      </p>
    </div>

    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl mx-auto">
      {{ range $index, $benefit := . }}
      <div class="bg-primary p-6 rounded-xl shadow-themed animate-on-scroll-fade-up animate-stagger-{{ add $index 1 }}">
        <div class="flex items-start gap-4">
          <div class="bg-accent-primary/10 p-3 rounded-lg shrink-0">
            <span class="material-symbols-outlined text-accent-primary">{{ $benefit.icon | default "check_circle" }}</span>
          </div>
          <div>
            <h4 class="font-semibold text-text-primary mb-2">{{ $benefit.title }}</h4>
            <p class="text-text-secondary text-sm">{{ $benefit.description }}</p>
          </div>
        </div>
      </div>
      {{ end }}
    </div>
  </div>
</section>
{{ end }}  */}}

{{/* Section Processus / Déroulement */}}
<!--
{{ with $process }}
<section class="bg-primary py-16 md:py-24">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-3xl md:text-4xl font-bold text-text-primary mb-4 animate-on-scroll-fade-up">
        Comment ça se passe ?
      </h2>
      <p class="text-text-secondary text-lg max-w-2xl mx-auto animate-on-scroll-fade-up animate-stagger-1">
        Un accompagnement structuré pour des résultats durables
      </p>
    </div>

    <div class="max-w-4xl mx-auto">
      <div class="relative">
        {{/* Ligne verticale de connexion */}}
        <div class="absolute left-6 md:left-8 top-0 bottom-0 w-0.5 bg-border-primary hidden sm:block"></div>
        
        {{ range $index, $step := . }}
        <div class="relative flex gap-6 md:gap-8 mb-8 last:mb-0 animate-on-scroll-fade-up animate-stagger-{{ add $index 1 }}">
          {{/* Numéro d'étape */}}
          <div class="relative z-10 shrink-0">
            <div class="w-12 h-12 md:w-16 md:h-16 bg-accent-primary rounded-full flex items-center justify-center text-white font-bold text-lg md:text-xl shadow-lg">
              {{ add $index 1 }}
            </div>
          </div>
          
          {{/* Contenu de l'étape */}}
          <div class="bg-secondary p-6 rounded-xl flex-1 shadow-themed">
            <h4 class="font-bold text-text-primary text-lg mb-2">{{ $step.title }}</h4>
            <p class="text-text-secondary">{{ $step.description }}</p>
            {{ with $step.duration }}
            <div class="flex items-center gap-2 mt-3 text-sm text-text-tertiary">
              <span class="material-symbols-outlined icon-sm">schedule</span>
              <span>{{ . }}</span>
            </div>
            {{ end }}
          </div>
        </div>
        {{ end }}
      </div>
    </div>
  </div>
</section>
{{ end }}
-->

{{/* Section Témoignage */}}
<!--
{{ with $testimonial }}
<section class="bg-secondary py-16 md:py-24">
  <div class="container mx-auto px-4">
    <div class="max-w-3xl mx-auto text-center animate-on-scroll-fade-up">
      <span class="material-symbols-outlined icon-3xl text-accent-primary/30 mb-6">format_quote</span>
      <blockquote class="text-xl md:text-2xl text-text-primary italic mb-8 leading-relaxed">
        "{{ .quote }}"
      </blockquote>
      <div class="flex items-center justify-center gap-4">
        {{ with .avatar }}
        <img src="{{ . }}" alt="{{ $.name }}" class="w-14 h-14 rounded-full object-cover border-2 border-accent-primary">
        {{ else }}
        <div class="w-14 h-14 rounded-full bg-accent-primary/20 flex items-center justify-center">
          <span class="material-symbols-outlined text-accent-primary">person</span>
        </div>
        {{ end }}
        <div class="text-left">
          <p class="font-semibold text-text-primary">{{ .name }}</p>
          <p class="text-text-secondary text-sm">{{ .role }}</p>
        </div>
      </div>
    </div>
  </div>
</section>
{{ end }}
-->

{{/* Section CTA Final */}}

<section class="bg-secondary py-16 md:py-24">
  <div class="container mx-auto px-4 text-center">
    <h2 class="font-bold text-primary mb-6 animate-on-scroll-fade-up">
      Prêt à passer à l'action ?
    </h2>
    <p class="text-primary text-lg md:text-xl mb-8 max-w-2xl mx-auto animate-on-scroll-fade-up animate-stagger-1">
      Contactez-moi pour discuter de vos besoins et construire ensemble votre réussite.
    </p>
    <a href=" /contact " class="inline-block btn-primary  px-8 py-3 rounded-lg font-semibold transition-colors shadow-xl animate-on-scroll-scale">
      Me Contacter
    </a>
  </div>
</section>

{{/* Autres services */}}
<section class="bg-primary py-16 md:py-24">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold text-text-primary mb-4 animate-on-scroll-fade-up">
        Découvrez aussi
      </h2>
    </div>

    <div class="grid md:grid-cols-2 gap-6 max-w-5xl mx-auto">
      {{ $currentPage := . }}
      {{ range where (where site.RegularPages "Section" "features") "Permalink" "ne" $currentPage.Permalink }}
      <a href="{{ .Permalink }}" class="group bg-secondary p-6 rounded-xl shadow-themed hover:shadow-themed-lg transition-all animate-on-scroll-fade-up">
        <div class="flex items-center gap-4 mb-4">
          <span class="material-symbols-outlined  transition-colors">{{ .Params.icon | default "star" }}</span>
          <h4 class="font-semibold text-text-primary group-hover:text-accent-primary transition-colors">{{ .Title }}</h4>
        </div>
        <p class="text-text-secondary text-sm line-clamp-2">{{ .Params.subtitle }}</p>
      </a>
      {{ end }}
    </div>
  </div>
</section>

{{ end }}